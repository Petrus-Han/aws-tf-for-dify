# AWS配置
export AWS_REGION="us-east-1"
export AWS_ACCOUNT_ID="233262299521"

# 环境配置
export TF_VAR_environment="test"  # 或 "prod"
export TF_VAR_aws_region="us-east-1"
export TF_VAR_aws_account_id="233262299521"

# Dify配置
export TF_VAR_dify_hostname="dify.yourdomain.com"  # 替换为您的域名
export TF_VAR_dify_ingress_enabled="true"
export TF_VAR_dify_ingress_class="alb"
export TF_VAR_dify_tls_enabled="true"

# 数据库配置
export TF_VAR_rds_username="postgres"
# RDS兼容密码：只使用字母数字字符，避免特殊字符
export TF_VAR_rds_password="$(openssl rand -hex 16 | tr '[:lower:]' '[:upper:]')$(openssl rand -hex 8)"
export TF_VAR_opensearch_password="$(openssl rand -hex 16 | tr '[:lower:]' '[:upper:]')$(openssl rand -hex 8)"

# Dify敏感配置 (自动生成强密钥)
export TF_VAR_dify_app_secret_key="$(openssl rand -base64 42)"
export TF_VAR_dify_admin_api_secret_key_salt="$(openssl rand -base64 32)"
export TF_VAR_dify_sandbox_api_key="$(openssl rand -base64 32)"
export TF_VAR_dify_inner_api_key="$(openssl rand -base64 32)"
export TF_VAR_dify_plugin_api_key="$(openssl rand -base64 32)"

# Helm配置
export TF_VAR_install_dify_chart="true"
export TF_VAR_dify_helm_repo_url="https://langgenius.github.io/dify-helm"
export TF_VAR_dify_helm_chart_name="dify/dify"
export TF_VAR_dify_helm_chart_version="3.3.2"